var
	access = require('core/access.js'),
	db = require('mongoose'),
	Schema = db.Schema,
	ObjectId = Schema.ObjectId;

/**
 * DBSchema describing page stucture
 * 
 *      - page - page name
 *      - vars - page-specific variables
 * 
 */

var eventflow_pageDescription = {};

var eventflow_pageModel;

eventflow_pageDescription.eventflow_pageSchema = new Schema({
    id : ObjectId,
    page : { type : String },
    vars : { type : JSON }
});

db.model('eventflow_pageModel', eventflow_pageDescription.eventflow_pageSchema);
eventflow_pageModel = db.model('eventflow_pageModel');

module.exports = exports = {
		description : eventflow_pageDescription,
		model : eventflow_pageModel
};