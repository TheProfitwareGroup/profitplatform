var
	access = require('core/access.js'),
	db = require('mongoose'),
	Schema = db.Schema,
	ObjectId = Schema.ObjectId;

/**
 * DBSchema describing twitter cache
 * 
 *      - content - cache content
 *      - date - last update date
 * 
 */

var eventflow_doctypeDescription = {};

var eventflow_doctypeModel;

eventflow_doctypeDescription.eventflow_doctypeSchema = new Schema({
    id : ObjectId,
    name : { type : String },
    description : { type : String },
    fields : { type : JSON },
    dispatcher : { type : JSON }
});

eventflow_doctypeDescription.eventflow_systemSchema = new Schema({
    id : ObjectId,
    doctype : [eventflow_doctypeDescription.eventflow_doctypeSchema],
    sysid : { type : String }
});

db.model('eventflow_doctypeModel', eventflow_doctypeDescription.eventflow_systemSchema);
eventflow_doctypeModel = db.model('eventflow_doctypeModel');

module.exports = exports = {
		description : eventflow_doctypeDescription,
		model : eventflow_doctypeModel
};