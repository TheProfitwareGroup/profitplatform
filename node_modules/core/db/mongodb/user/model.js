var
	access = require('core/access.js'),
	db = require('mongoose'),
    Schema = db.Schema,
    ObjectId = Schema.ObjectId;

/**
 * DBSchema describing users
 * 
 *      - login - user login
 *      - password - user password
 *      - roles - user available roles
 *      - name - first name
 *      - surname - last name
 */

var usersDescription = {};
var usersModel = null;

usersDescription.usersSchema = new Schema({
    id : ObjectId,
    login : { type : String },
    password : { type : String }, // MD5 Hash
    roles : { type : Number, min : access.LEVEL_CORE, max : access.LEVEL_RESV },
    name : { type : String },
    surname : { type : String },
    profile : { type : String },
    appUser : { type : Boolean }
});

db.model('usersModel', usersDescription.usersSchema);
usersModel = db.model('usersModel');

module.exports = exports = {
		description : usersDescription,
		model : usersModel
};

