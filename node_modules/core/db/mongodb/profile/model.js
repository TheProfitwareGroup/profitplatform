var
    access = require('core/access.js'),
    db = require('mongoose'),
    Schema = db.Schema,
    ObjectId = Schema.ObjectId;

/**
 * DBSchema describing profiles
 *
 *      - name - name of the profile
 *      - schemas - schemas available for profile
 *      - extends - profile extending mechanism
 */

var profilesDescription = {};
var profilesModel = null;

profilesDescription.profilesSchema = new Schema({
    id: ObjectId,
    name: { type: String },
    schemas: [
        { type: String }
    ],
    extends: { type: String }
});

db.model('profilesModel', profilesDescription.profilesSchema);
profilesModel = db.model('profilesModel');

module.exports = exports = {
    description: profilesDescription,
    model: profilesModel
};
